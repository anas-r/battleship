(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(e,t,n){e.exports=n(5)},function(e,t,n){var r=n(2),a=n(3);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);e.exports=a.locals||{}},function(e,t,n){"use strict";var r,a=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function s(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},r=[],a=0;a<e.length;a++){var i=e[a],u=t.base?i[0]+t.base:i[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var f=s(l),h={css:i[1],media:i[2],sourceMap:i[3]};-1!==f?(o[f].references++,o[f].updater(h)):o.push({identifier:l,updater:v(h,t),references:1}),r.push(l)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=i(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var l,f=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function h(e,t,n,r){var a=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function m(e,t,n){var r=n.css,a=n.media,i=n.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,d=0;function v(e,t){var n,r,a;if(t.singleton){var i=d++;n=p||(p=c(t)),r=h.bind(null,n,i,!1),a=h.bind(null,n,i,!0)}else n=c(t),r=m.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=a());var n=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var a=s(n[r]);o[a].references--}for(var i=u(e,t),c=0;c<n.length;c++){var l=s(n[c]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}n=i}}}},function(e,t,n){(t=n(4)(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"index.scss"}]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var a=(o=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(u," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([a]).join("\n")}var o,s,u;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(a[o]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&a[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},function(e,t,n){"use strict";n.r(t);n(1);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function e(t,n,a,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"markHit",(function(){o.hits++})),r(this,"isSunk",(function(){return o.hits>=o.length})),this.length=t||2,this.horizontal=!!n,this.placeholder=a||"O",this.type=i||"Default",this.hits=0},i=Array(10).fill("_"),o=function(){return 2*Math.random()>>0==0},s=function(){return 10*Math.random()>>0},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return[new a(5+e,o(),"carrier"),new a(4,o(),"battleship"),new a(3,o(),"cruiser"),new a(3,o(),"submarine"),new a(2,o(),"destroyer")]},c=function(e){return document.querySelector(e)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=document.createElement(e);return r.className=t,n&&(r.id=n),r};function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"computer",void 0),f(this,"computerMoves",void 0),f(this,"human",void 0),f(this,"_fakeHumanMoves",void 0),f(this,"getHumanPlayerName",(function(){return r.human.getPlayerName()})),f(this,"getComputerName",(function(){return r.computer.getPlayerName()})),f(this,"getPlayerReference",(function(e){return e===r.getHumanPlayerName()?r.human:e===r.getComputerName()&&r.computer})),f(this,"_fakeHumanPlays",(function(){var e=[s(),s()],t=e[0],n=e[1];if(r._fakeHumanMoves.length===Math.pow(10,2))return!1;for(;r._fakeHumanMoves.includes("".concat(t," ").concat(n));){var a=[s(),s()];t=a[0],n=a[1]}return r._fakeHumanMoves.push("".concat(t," ").concat(n)),r.computer.hit(t,n),r.computer.isGameOver()})),f(this,"humanPlaysDetails",(function(e,t){return[r.computer.hit(e,t)[1],r.computer.isGameOver()]})),f(this,"humanPlays",(function(e,t){return r.humanPlaysDetails(e,t)[1]})),f(this,"computerPlaysDetails",(function(){var e=[s(),s()],t=e[0],n=e[1];if(r.computerMoves.length===Math.pow(10,2))return[!1,!1,!1];for(;r.computerMoves.includes("".concat(t," ").concat(n));){var a=[s(),s()];t=a[0],n=a[1]}return r.computerMoves.push("".concat(t," ").concat(n)),[t,n,r.human.hit(t,n)[1],r.human.isGameOver()]})),f(this,"computerPlays",(function(){return r.computerPlaysDetails[2]})),f(this,"isOver",(function(){return r.human.isGameOver()||r.computer.isGameOver()})),this.human=t,this.computer=n,this._fakeHumanMoves=[],this.computerMoves=[]};function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"board",void 0),m(this,"sunkShips",void 0),m(this,"getPlayerName",(function(){return r.playerName})),m(this,"_isCaseEmpty",(function(e,t){return"_"===r.board.array[e][t]})),m(this,"_isAlreadyHit",(function(e,t){return"X"===r.board.array[e][t]})),m(this,"hit",(function(e,t){if(r._isCaseEmpty(e,t))return r.board.array[e][t]="X",[!1,{hitType:"miss"}];if(r._isAlreadyHit(e,t))return[!1,!1];var n=r.board.ships.filter((function(n){return n.placeholder===r.board.array[e][t]}))[0];return r.board.array[e][t]="X",n.markHit(),n.isSunk()&&(r.sunkShips++,console.log("".concat(n.placeholder," ship was sunk!"))),[n,{hitType:"hit",shipType:n.placeholder,shipSunk:n.isSunk()}]})),m(this,"_test",(function(){for(;!r.isGameOver();)for(var e=[s(),s()],t=e[0],n=e[1],a=r.hit(t,n)[1];!a;){var i=[s(),s()];t=i[0],n=i[1],a=r.hit(t,n)[1]}})),m(this,"isGameOver",(function(){return r.sunkShips>=r.board.ships.length})),this.playerName=t,this.sunkShips=0,this.board=n};function d(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,"array",void 0),g(this,"flip",(function(){for(var e=0;e<10;e++)for(var t=e+1;t<10;t++){var r=[n.array[t][e],n.array[e][t]];n.array[e][t]=r[0],n.array[t][e]=r[1]}return n})),g(this,"isFreeArray",(function(e){return!(e.findIndex((function(e){return"_"!==e}))>-1)})),g(this,"isCaseEmpty",(function(e,t){return"_"===n.array[e][t]})),g(this,"checkLineRoomForLength",(function(e,t){if(t.length>10)return!1;for(var r=n.array[e],a=[],i=0;i<10-t.length+1;i++)a.push(r.slice(i,i+t.length));for(;a[0];){if(n.isFreeArray(a[0]))return!0;a.shift()}return!1})),g(this,"placeShips",(function(){n.ships.forEach((function(e){for(var t=s();!n.placeShipRandom(t,e);)t=s();return!0}))})),this.array=[],this.ships=d(t);for(var r=0;r<10;r++)this.array.push(d(i));this.placeShips()}var t,n,r;return t=e,(n=[{key:"_placeShipRandomHelper",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.checkLineRoomForLength(e,t))return!1;for(var r=this.array[e],a=10-t.length+1,i=Math.random()*a>>0;!this.isFreeArray(r.slice(i,i+t.length));)i=Math.random()*a>>0;return r.forEach((function(e,n){n>=i&&n<i+t.length&&(r[n]=t.placeholder)})),n&&this.flip(),!0}},{key:"placeShipRandom",value:function(e,t){return t.horizontal?this._placeShipRandomHelper(e,t):!1===t.horizontal&&(this.flip(),!!this._placeShipRandomHelper(e,t,!0)||(this.flip(),!1))}}])&&y(t.prototype,n),r&&y(t,r),e}();function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function e(t,n,r,a){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,"onCaseMarked",(function(e,t,n){return i.view.markCase(e,t,n)})),w(this,"onHitCase",(function(e,t){return i.gameManager.markCase(i.playerName,e,t)})),w(this,"triggerComputer",(function(){i.gameManager.triggerComputer()})),w(this,"checkGameOver",(function(){return i.gameManager.checkGameOver()})),w(this,"onSetMessage",(function(e){i.infoView.setMessage(e)})),w(this,"onInitialSetUp",(function(){return i.gameManager.initialSetUp(i.playerName)})),this.view=t,this.gameManager=n,this.playerName=this.view.playerName,this.infoView=a,this.view.mount(r),this.infoView.mount(),this.view.bindInitialSetUpColors(this.onInitialSetUp),this.view.bindHitCase(this.onHitCase),this.view.bindCheckGameOver(this.checkGameOver),this.view.bindTriggerComputer(this.triggerComputer);"player"===this.playerName?this.gameManager.bindHumanCaseMarker(this.onCaseMarked):this.gameManager.bindComputerCaseMarker(this.onCaseMarked);this.gameManager.bindMessageSetter(this.onSetMessage)};function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,r=arguments.length>1?arguments[1]:void 0;k(this,e),N(this,"bindInitialSetUpColors",(function(e){if("cpu"===t.playerName)return!1;var n=e();return n.array.forEach((function(e,r){return e.forEach((function(e,a){!n.isCaseEmpty(r,a)&&t.markCase(r,a,"initial")}))})),!0})),N(this,"markCase",(function(e,n,r){var a=document.getElementById("".concat(t.playerName,"-").concat(e,"-").concat(n));switch(r){case"initial":return a.classList.add("initial"),!0;case"hit":return a.classList.add("hit"),!0;case"miss":return a.classList.add("miss"),!0;default:return!1}})),N(this,"bindCheckGameOver",(function(e){t.checkGameOver=e})),N(this,"bindTriggerComputer",(function(e){t.triggerComputer=e})),N(this,"bindHitCase",(function(e){t.dom.addEventListener("click",(function(n){if(t.checkGameOver()||n.target.closest(".board-human")||!n.target.className.includes("board-case")||n.target.className.includes("hit")||n.target.className.includes("miss"))return console.log("Illegal move"),!1;var r=M(n.target.id.split("-"),3),a=(r[0],r[1]),i=r[2];e(a,i)||t.triggerComputer()}))})),this.nodelist=[],this.playerName=r(),this.playerNameDom=l("h3"),this.playerNameDom.textContent="".concat(this.playerName,": board"),this.dom=l("div","board");for(var a=0;a<n;a++){for(var i=[],o=0;o<n;o++){var s=l("div","board-case","".concat(this.playerName,"-").concat(a,"-").concat(o));this.dom.append(s),i.push(s)}this.nodelist.push(i)}}var t,n,r;return t=e,(n=[{key:"mount",value:function(e){e.append(this.playerNameDom,this.dom)}}])&&O(t.prototype,n),r&&O(t,r),e}();function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),E(this,"getHumanPlayerName",(function(){return n.gamepvc.getHumanPlayerName()})),E(this,"getComputerName",(function(){return n.gamepvc.getComputerName()})),E(this,"getPlayerReference",(function(e){return n.gamepvc.getPlayerReference(e)})),E(this,"initialSetUp",(function(e){return n.getPlayerReference(e).board})),E(this,"bindHumanCaseMarker",(function(e){n.onHumanMarkCase=e})),E(this,"bindComputerCaseMarker",(function(e){n.onComputerMarkCase=e})),E(this,"bindMessageSetter",(function(e){n.onSetMessage=e})),E(this,"onResetMessage",(function(){n.onSetMessage("")})),E(this,"checkGameOver",(function(){return n.gamepvc.isOver()})),E(this,"triggerComputer",(function(){return n.markCase("player")})),E(this,"markCase",(function(e,t,r){if("cpu"===e){var a=P(n.gamepvc.humanPlaysDetails(t,r),2),i=a[0],o=a[1];return n.onComputerMarkCase(t,r,i.hitType),o?(n.onSetMessage("game over: ".concat(e," lost")),!0):(i.shipSunk?n.onSetMessage("cpu: ".concat(i.shipType," has sunk")):n.onResetMessage(),!1)}if("player"===e){var s=P(n.gamepvc.computerPlaysDetails(),4),u=s[0],c=s[1],l=s[2],f=s[3];return n.onHumanMarkCase(u,c,l.hitType),f?(n.onSetMessage("game over: ".concat(e," lost")),!0):(l.shipSunk&&n.onSetMessage("player: ".concat(l.shipType," has sunk")),!1)}})),this.gamepvc=t};function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I,_,R,x=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),T(this,"mount",(function(){return!t.mounted&&(c("#root").append(t.container),t.mounted=!0,!0)})),T(this,"setMessage",(function(e){t.message.textContent=e})),this.mounted=!1,this.container=l("div","information-container"),this.message=l("div","information-message"),this.message.textContent="welcome to battleship. enjoy",this.container.append(this.message)};document.querySelector("#root").append(l("div","board-human"),l("div","board-computer")),I=new h(new p("player",new b(u())),new p("cpu",new b(u()))),_=new x,R=new H(I),new C(new j(10,(function(){return"player"})),R,c(".board-human"),_),new C(new j(10,(function(){return"cpu"})),R,c(".board-computer"),_)}],[[0,1]]]);